----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  E:\alex\post-covid-thrombosis-research\output/107_match_summary.log
  log type:  text
 opened on:  16 Oct 2020, 10:34:28

. 
. use "data/cr_matched_cohort_primary", replace 

. 
. bysort setid: gen numSets = _n == 1

. safecount if numSets
  811

. local setNum = `r(N)'

. if `r(N)' != . {
. noi di "Number of matched sets: `r(N)'"
Number of matched sets: 811
. }

. else {
. noi di "Number of matched sets: <5" 
. }

.  
. safecount if flag == "covid_hosp"
  811

. if `r(N)' != . {
. noi di "Number of covid patients in the matched cohort: `r(N)'"
Number of covid patients in the matched cohort: 811
. }

. else {
. noi di "Number of covid patients in the matched cohort: <5 "
. }

. 
. bysort setid flag: gen matches = _n 

. bysort setid flag: egen totMatches = max(matches)

. keep if matches == 1
(1,547 observations deleted)

. 
. safecount if totMatches >= 1 & flag == "pneumonia_hosp"
  779

. if `r(N)' != . {
. noi di "Out of `setNum' matched sets: `r(N)' matched 1 pneuomnia patient" 
Out of 811 matched sets: 779 matched 1 pneuomnia patient
. }

. else {
. noi di "Out of `setNum' matched sets: <=5 matched 1 pneuomnia patient" 
. }

. 
. safecount if totMatches >= 1 & flag == "control_2019"
  811

. if `r(N)' != . {
. noi di "Out of `setNum' matched sets: `r(N)' matched at least 1 2019 control patient" 
Out of 811 matched sets: 811 matched at least 1 2019 control patient
. }

. else {
. noi di "Out of `setNum' matched sets: <=5 matched at least 1 2019 control patient" 
. }

. 
. safecount if totMatches >= 1 & flag == "control_2020"
  811

. if `r(N)' != . {
. noi di "Out of `setNum' matched sets: `r(N)' matched at least 1 2020 control patient" 
Out of 811 matched sets: 811 matched at least 1 2020 control patient
. }

. else {
. noi di "Out of `setNum' matched sets: <=5 matched at least 1 2020 control patient" 
. }

. 
. log close
      name:  <unnamed>
       log:  E:\alex\post-covid-thrombosis-research\output/107_match_summary.log
  log type:  text
 closed on:  16 Oct 2020, 10:34:28
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
